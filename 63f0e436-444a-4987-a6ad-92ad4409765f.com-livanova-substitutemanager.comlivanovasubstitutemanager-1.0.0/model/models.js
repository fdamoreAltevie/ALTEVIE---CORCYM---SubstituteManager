sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device","com/livanova/substitutemanager/controller/BaseController"],function(e,t,r){"use strict";return{createSubstitutesModel:function(t,a){var o=new e;var s=t.getModel("i18n").getResourceBundle();t.getModel("approversMgmtModel").read("/SubstituteSet",{success:function(e){a.fixDateVisualization(e.results);a.updateFilters(e.results);o.setData(e.results)}.bind(this),error:function(e){r.prototype.comunicationError.apply(t,[e,s])},groupId:"initialCall"});return o},setDateFormat:function(t,r){var a=new e;var o=t.getModel("i18n").getResourceBundle();t.getModel("approversMgmtModel").read("/UserParametersSet",{success:function(e){e.results[0].DateFormat=e.results[0].DateFormat.replace(/D/g,"d");if(!(e.results[0].DateFormat.includes("dd")&&e.results[0].DateFormat.includes("MM")&&e.results[0].DateFormat.includes("YYYY"))){e.results[0].DateFormat="dd/MM/yyyy"}a.setData(e.results[0])}.bind(this),error:function(e){},groupId:"initialCall"});return a},createApproversListModel:function(t,a){var o=new e;var s=t.getModel("i18n").getResourceBundle();t.getModel("approversMgmtModel").read("/PossibleSubstituteSet",{success:function(e){a.fixDateVisualization(e.results);o.setData(e.results)}.bind(this),error:function(e){r.prototype.comunicationError.apply(t,[e,s])},groupId:"initialCall"});return o},createWorkflowModel:function(t){var r=new e;var a=t.getModel("i18n").getResourceBundle();return r},createActiveSubstituteModel:function(t,a){var o=new e;var s=t.getModel("i18n").getResourceBundle();t.getModel("approversMgmtModel").read("/SubstituteSet",{success:function(e){o.setData(e.results)}.bind(this),error:function(e){r.prototype.comunicationError.apply(t,[e,s])},groupId:"initialCall"});return o},createDeviceModel:function(){var r=new e(t);r.setDefaultBindingMode("OneWay");return r},createEditInProgressModel:function(){var t=new e({value:false});return t},createViewModel:function(t){var r=new Date;var a=r.getDate();r.setHours(0,0,0,0);var o=new e({editDetail:false,today:r,substitutesListView:true,controller:this,dateFormat:"dd/MM/yyyy",add:false,loadApprovers:true,filterInserted:false});return o},createSubstitutesEditModel:function(){var t=new e({});return t},createSubstitutesAddModel:function(){var t=new Date;var r=t.getDate();t.setHours(0,0,0,0);var a=new e({ValidFrom:t,ValidTo:t});return a}}});