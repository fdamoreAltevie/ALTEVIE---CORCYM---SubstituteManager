//@ui5-bundle com/livanova/substitutemanager/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"com/livanova/substitutemanager/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","sap/ui/model/json/JSONModel","sap/f/FlexibleColumnLayoutSemanticHelper","com/livanova/substitutemanager/model/models","com/livanova/substitutemanager/controller/BaseController"],function(e,t,s,o,i,a){"use strict";return e.extend("com.livanova.substitutemanager.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);sap.ui.getCore().getConfiguration().setLanguage("en");this.getRouter().initialize()},loadAll:function(e){var t="initialCall";var o=this.getModel("i18n").getResourceBundle();var r=this.getModel("approversMgmtModel");r.setDeferredBatchGroups([t]);this.setEditInProgressModel();this.setViewModel(e);var u=new s;this.setModel(u);this.setSubstitutesModel(e);this.setApproversListModel(e);this.setActiveSubstituteModel(e);this.setSubstitutesEditModel();this.setSubstitutesAddModel();this.setDateFormat();this.setModel(i.createDeviceModel(),"device");var d=jQuery.sap.getModulePath("com.livanova.substitutemanager");var n=new sap.ui.model.json.JSONModel({path:d});this.setModel(n,"rootPath");sap.ui.core.BusyIndicator.show();r.submitChanges({groupId:t,success:function(){var e=this.getModel("dateFormatModel").getData().DateFormat;if(e){var t=this.getModel("viewModel").getData();t.dateFormat=e;this.getModel("viewModel").refresh(true)}this._substitute=undefined;this.getRouter().navTo("master",{layout:"OneColumn"});sap.ui.core.BusyIndicator.hide()}.bind(this),error:function(e){sap.ui.core.BusyIndicator.hide();a.prototype.comunicationError.apply(this,[e,o])}.bind(this)})},setSubstitutesModel:function(e){var t=i.createSubstitutesModel(this,e);t.setSizeLimit(1e4);this.setModel(t,"substitutesModel")},setDateFormat:function(e){var t=i.setDateFormat(this,e);t.setSizeLimit(1e4);this.setModel(t,"dateFormatModel")},setApproversListModel:function(e){var t=i.createApproversListModel(this,e);t.setSizeLimit(1e4);this.setModel(t,"approversListModel")},setActiveSubstituteModel:function(e){var t=i.createActiveSubstituteModel(this,e);this.setModel(t,"activeSubstituteModel");t.setSizeLimit(1e4)},setWorkflowModel:function(){var e=i.createWorkflowModel(this);e.setSizeLimit(1e4);this.setModel(e,"workflowModel")},setEditInProgressModel:function(){var e=i.createEditInProgressModel();this.setModel(e,"editInProgressModel")},setViewModel:function(e){var t=i.createViewModel(e);this.setModel(t,"viewModel")},setSubstitutesEditModel:function(){var e=i.createSubstitutesEditModel();this.setModel(e,"substitutesEditModel")},setSubstitutesAddModel:function(){var e=i.createSubstitutesAddModel();this.setModel(e,"substitutesAddModel")},createContent:function(){return sap.ui.view({viewName:"com.livanova.substitutemanager.view.App",type:"XML"})},getHelper:function(){var e=this.getRootControl().byId("fcl"),t=jQuery.sap.getUriParameters(),s={defaultTwoColumnLayoutType:sap.f.LayoutType.TwoColumnsMidExpanded,defaultThreeColumnLayoutType:sap.f.LayoutType.ThreeColumnsMidExpanded,mode:t.get("mode"),maxColumnsCount:t.get("max")};return o.getInstanceFor(e,s)}})});
},
	"com/livanova/substitutemanager/CustomControls/WorkflowListControl.control.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:ui="sap.ui.table"><VBox fitContainer="true"><items><Toolbar visible="{$this>/visibleTbl}" width="auto"><ToolbarSpacer/><SearchField search="onSearchControl" width="{= ${/layout} === \'TwoColumnsMidExpanded\' || ${device>/system/phone} ? \'50%\' : \'auto\'}"\n\t\t\t\t\tplaceholder="{= ${device>/system/phone} ? ${i18n>searchWorkflowListCompressed} : ${i18n>searchWorkflowList}}"/><Button icon="sap-icon://refresh" type="Transparent" press="onRefreshControl"/><Button icon="sap-icon://sort" type="Transparent" press="onSortControl"/><Button icon="sap-icon://filter" type="Transparent" press="onFilterControl"/><Button icon="sap-icon://clear-filter" type="Transparent" press=".onChangeFilterDateControl(false);onFilterResetControl"\n\t\t\t\t\tvisible="{viewControl>/filterInserted}"/></Toolbar><Table id="tableWorkflow" items="{workflowModel>/}" sticky="ColumnHeaders" inset="false" class="sapFDynamicPageAlignContent sapUiTinyMargin"\n\t\t\t\twidth="auto" visible="{$this>/visibleTbl}" busyIndicatorDelay="0"><columns><Column vAlign="Middle" mergeDuplicates="true" visible="{= !${viewControl>/approver}}" width="35%"><Text text="{i18n>approver}"/></Column><Column vAlign="Middle"><Text text="{i18n>workflow}"/></Column><Column vAlign="Middle"><Text text="{i18n>approvalDate}"/></Column><Column vAlign="Middle" hAlign="Begin" width="8%"><Text text=""/></Column></columns><items><ColumnListItem><cells><ObjectIdentifier title="{workflowModel>ApproverName}" text="({workflowModel>ApproverId})" visible="{= !${viewControl>/approver}}"/><ObjectIdentifier title="{workflowModel>Description}"/><Text text="{ path: \'workflowModel>ApprovalDate\', formatter: \'.formatter.formatDate\' }"/><HBox class="sapUiTinyMarginEnd sapUiTinyMarginTop sapUiTinyMarginBottom"><ObjectStatus icon="{= ${workflowModel>Approved} ? \'sap-icon://accept\' : \'sap-icon://decline\'}"\n\t\t\t\t\t\t\t\t\tstate="{= ${workflowModel>Approved} ? \'Success\' : \'Error\'}"/></HBox></cells></ColumnListItem></items></Table><Text text="{$this>/noWorkflowsText}" visible="{= !${$this>/visibleTbl}}"/></items></VBox></core:FragmentDefinition>',
	"com/livanova/substitutemanager/CustomControls/WorkflowListControl.js":function(){sap.ui.define(["sap/ui/core/XMLComposite","sap/ui/model/json/JSONModel","sap/m/MessageBox","sap/ui/core/Fragment","sap/ui/model/Filter","sap/ui/model/FilterOperator","com/livanova/substitutemanager/formatters/formatter","sap/ui/model/Sorter"],function(e,t,o,r,i,l,s,a){return e.extend("com.livanova.substitutemanager.CustomControls.WorkflowListControl",{metadata:{properties:{approverData:{type:"object"},controller:{type:"object"},visibleTbl:{type:"boolean",defaultValue:false},noWorkflowsText:"string"}},formatter:s,onAfterRendering:function(){if(this.alreadyRendered){return}this.alreadyRendered=true;var e=new t;this.setModel(e,"viewControl");this.getModel("viewControl").setProperty("/filterInserted",false);var o=new t;this.setModel(o,"workflowModel");var r=this.getApproverData();var s=this.getController();this.filters=[];var a=[];if(r){this.getModel("viewControl").setProperty("/approver",true);var n=this.getController().getResourceBundle();var f=n.getText("noWorkflows");this.setNoWorkflowsText(f);a.push(new i("ApproverId",l.EQ,r.Id));var d=s.fixDate(r.ValidFrom);var h=s.fixDate(r.ValidTo);a.push(new i("ApprovalDate",l.BT,d,h))}else{this.setVisibleTbl(true)}this.setBusyControl(r,true);s.getModel("approversMgmtModel").read("/WorkflowSet",{filters:a,success:function(e){s.fixDateVisualization(e.results);this.getModel("workflowModel").setData(e.results);this.getModel("workflowModel").refresh(true);this.updateFiltersControl(e.results);this.onFiltersApplyControl("refresh");if(r&&e.results.length===0){this.switchView()}else{this.setVisibleTbl(true)}this.setBusyControl(r,false)}.bind(this),error:function(e){this.setBusyControl(r,false);s.comunicationError(e)}.bind(this)})},setBusyControl:function(e,t){if(e){if(t){sap.ui.core.BusyIndicator.show()}else{sap.ui.core.BusyIndicator.hide()}}else{this.byId("tableWorkflow").setBusy(t)}},switchView:function(){if(this.getVisibleTbl()!==false){this.setVisibleTbl(false)}},updateFiltersControl:function(e){var t=[];var o=[];var r=[{Approved:true},{Approved:false}];if(e.length>0){e.forEach(function(e){var r=t.find(function(t){return t.ApproverId===e.ApproverId});if(!r){t.push({ApproverName:e.ApproverName,ApproverId:e.ApproverId})}var i=o.find(function(t){return t.Description===e.Description});if(!i){o.push({Description:e.Description})}})}this.getModel("viewControl").setProperty("/filterApproverList",t);this.getModel("viewControl").setProperty("/filterWorkflowList",o);this.getModel("viewControl").setProperty("/filterState",r);var i=this.getModel("viewControl").getProperty("/dateChanged");if(!i){var l=this.getController();var s=l.getModel("viewModel").getProperty("/today");var a=new Date(s),n=new Date(s);for(var f=0;f<e.length;f++){a=e[f].ApprovalDate<=a?e[f].ApprovalDate:a;n=e[f].ApprovalDate>=n?e[f].ApprovalDate:n}this.getModel("viewControl").setProperty("/startDateFilter",a);this.getModel("viewControl").setProperty("/endDateFilter",n)}},onFiltersApplyControl:function(e,t){var o=[];var r=this.getModel("viewControl")?this.getModel("viewControl").getProperty("/dateChanged"):undefined;var s=this.getModel("viewControl").getProperty("/startDateFilter");var a=this.getModel("viewControl").getProperty("/endDateFilter");if(e){var n={};if(this.filterDialogWorkflow){n=this.filterDialogWorkflow.getSelectedFilterCompoundKeys()}if(t){o=o.concat(e)}var f=Object.keys(n);if(f.length>0){for(var d=0;d<f.length;d++){var h=[];var p=Object.keys(n[f[d]]);for(var u=0;u<p.length;u++){if(p[u]==="false"||p[u]==="true"){p[u]=p[u]==="true"}h.push(new i(f[d],l.EQ,p[u]))}o.push(new i(h,false))}}}if(e!=="refresh"&&r===true){this.reloadTable(s,a)}this.byId("tableWorkflow").getBinding("items").filter(o,"Application");this.changeFilterInserted()},reloadTable:function(e,t){var o=[];var r=this.getApproverData();var s=this.getController();if(r){o.push(new i("ApproverId",l.EQ,r.Id));if(e<r.ValidFrom){e=new Date(r.ValidFrom)}if(t>r.ValidTo){t=new Date(r.ValidTo)}}o.push(new i("ApprovalDate",l.BT,s.fixDate(e),s.fixDate(t)));this.byId("tableWorkflow").setBusy(true);s.getModel("approversMgmtModel").read("/WorkflowSet",{filters:o,success:function(e){s.fixDateVisualization(e.results);this.getModel("workflowModel").setData(e.results);this.getModel("workflowModel").refresh(true);this.byId("tableWorkflow").setBusy(false)}.bind(this),error:function(e){this.byId("tableWorkflow").setBusy(false);s.comunicationError(e)}.bind(this)})},changeFilterInserted:function(){var e=false;var t=this.getModel("viewControl")?this.getModel("viewControl").getProperty("/dateChanged"):undefined;var o=this.filterDialogWorkflow;if(t){e=true}if(o){if(o.getSelectedFilterItems().length>0){e=true}}this.getModel("viewControl").setProperty("/filterInserted",e)},onFilterControl:function(e){var t=this.getController();var o=this.getApproverData();if(!this.filterDialogWorkflow){r.load({name:"com.livanova.substitutemanager.view.fragments.FilterDialogWorkflow",controller:this}).then(function(e){this.filterDialogWorkflow=e;this.filterDialogWorkflow.setModel(this.getModel("viewControl"),"viewControl");this.filterDialogWorkflow.setModel(t.getModel("viewModel"),"viewModel");this.filterDialogWorkflow.setModel(t.getOwnerComponent().getModel("i18n"),"i18n");if(o){var r=this.filterDialogWorkflow.getFilterItems().find(function(e){return e.getKey()==="ApproverId"});this.filterDialogWorkflow.removeFilterItem(r)}this.filterDialogWorkflow.open()}.bind(this))}else{this.filterDialogWorkflow.open()}},onFilterCancelControl:function(e){var t=this.getModel("workflowModel").getData();this.updateFiltersControl(t)},onFilterResetControl:function(e){var t=this.getModel("workflowModel").getData();this.filterDialogWorkflow=undefined;this.onRefreshControl(true)},onSearchControl:function(e){var t=[],o=e.getParameter("query");if(o&&o.length>0){t=[new i("Description",l.Contains,o)]}var r=this.filters.concat(t);this.onFiltersApplyControl(t,true)},onRefreshControl:function(e){var t=this.getApproverData();var o=this.getController();var r=this.getModel("viewControl").getProperty("/startDateFilter");var s=this.getModel("viewControl").getProperty("/endDateFilter");var a=this.getModel("viewControl").getProperty("/dateChanged");var n=[];if(t){n.push(new i("ApproverId",l.EQ,t.Id));if(a){if(r<t.ValidFrom){r=new Date(t.ValidFrom)}if(s>t.ValidTo){s=new Date(t.ValidTo)}}else{r=new Date(t.ValidFrom);s=new Date(t.ValidTo)}}if(!(e===true)||t){n.push(new i("ApprovalDate",l.BT,o.fixDate(r),o.fixDate(s)))}this.byId("tableWorkflow").setBusy(true);o.getModel("approversMgmtModel").read("/WorkflowSet",{filters:n,success:function(t){o.fixDateVisualization(t.results);this.getModel("workflowModel").setData(t.results);this.getModel("workflowModel").refresh(true);this.updateFiltersControl(t.results);this.onFiltersApplyControl("refresh");var r=o.getView().getModel("i18n").getResourceBundle();var i=r.getText("updated");this.byId("tableWorkflow").setBusy(false);if(!(e===true)){o.comunicationSuccess(r,i)}}.bind(this),error:function(e){this.byId("tableWorkflow").setBusy(false);o.comunicationError(e)}.bind(this)})},onSortControl:function(e){var t=this.getController();if(!this.popoverSortWorkflow){this.popoverSortWorkflow=sap.ui.xmlfragment("com.livanova.substitutemanager.view.fragments.SorterWorkflowPopover",this);this.addDependent(this.popoverSortWorkflow)}this.popoverSortWorkflow.openBy(e.getSource())},sortTableControl:function(e){var t={};var o=e.getSource().getCustomData();for(var r=0;r<e.getSource().getCustomData().length;r++){t[o[r].getKey()]=o[r].getValue()}var i=new a(t.path,t.descending==="true");this.byId("tableWorkflow").getBinding("items").sort(i);this.popoverSortWorkflow.close()},onChangeFilterDateControl:function(e){this.getModel("viewControl").setProperty("/dateChanged",e)}})},true);
},
	"com/livanova/substitutemanager/controller/App.controller.js":function(){sap.ui.define(["./BaseController"],function(t){"use strict";return t.extend("com.livanova.substitutemanager.controller.App",{onInit:function(){this.getOwnerComponent().loadAll(this);this.getOwnerComponent().getModel("viewModel").setProperty("/controller",this);this.oRouter=this.getOwnerComponent().getRouter();this.oRouter.attachRouteMatched(this.onRouteMatched,this);this.oRouter.attachBeforeRouteMatched(this.onBeforeRouteMatched,this);this.setShellNavigationButton()},setShellNavigationButton:function(){this.getOwnerComponent().getService("ShellUIService").then(function(t){t.setBackNavigation(function(t){this.checkEditInProgress();history.go(-1)}.bind(this))}.bind(this))},onBeforeRouteMatched:function(t){var e=this.getOwnerComponent().getModel();var o=t.getParameters().arguments.layout;if(!o){var n=this.getOwnerComponent().getHelper().getNextUIState(0);o=n.layout}if(o){e.setProperty("/layout",o)}},onRouteMatched:function(t){var e=t.getParameter("name"),o=t.getParameter("arguments");this._updateUIElements();this.currentRouteName=e;this.currentSubstitute=o.substitute},onStateChanged:function(t){var e=t.getParameter("isNavigationArrow"),o=t.getParameter("layout");this._updateUIElements();if(e){this.oRouter.navTo(this.currentRouteName,{layout:o,substitute:this.currentSubstitute},true)}},_updateUIElements:function(){var t=this.getOwnerComponent().getModel();var e=this.getOwnerComponent().getHelper().getCurrentUIState();t.setData(e)},onExit:function(){this.oRouter.detachRouteMatched(this.onRouteMatched,this);this.oRouter.detachBeforeRouteMatched(this.onBeforeRouteMatched,this)}})});
},
	"com/livanova/substitutemanager/controller/BaseController.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/ui/core/UIComponent","sap/ui/core/routing/History","com/livanova/substitutemanager/formatters/formatter","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,i,o,r,n,s,a,d){"use strict";return e.extend("com.livanova.substitutemanager.controller.BaseController",{formatter:n,onInit:function(){},refreshModels:function(){},destroyEditModel:function(){this.getModel("substitutesEditModel").setData({});this.getModel("substitutesEditModel").refresh(true)},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){return this.getView().setModel(e,t)},comunicationError:function(e,t,i){if(!t){t=this.getView().getModel("i18n").getResourceBundle()}if(e&&e.statusCode==="400"){var o=JSON.parse(e.responseText);i=o.error.message.value}else{if(!i){i=t.getText("errCom")}}s.error(i,{title:t.getText("err")})},comunicationSuccess:function(e,t){if(!e){e=this.getView().getModel("i18n").getResourceBundle()}if(!t){t=e.getText("succCom")}i.show(t)},comunicationWarning:function(e,t){if(!e){e=this.getView().getModel("i18n").getResourceBundle()}if(!t){t=""}s.warning(t,{title:e.getText("att")})},confirmUndo:function(e,t){var i=this.getView().getModel("i18n").getResourceBundle();if(!t){t=i.getText("cancelChanges")}s.confirm(t,{title:i.getText("att"),onClose:function(t){if(t==="OK"){e()}}});return},checkEditInProgress:function(e){var t=this.getModel("i18n").getResourceBundle();var i=t.getText("editInProgress");var o=this.getOwnerComponent().getModel("editInProgressModel").getData().value;if(o){this.comunicationWarning(t,i);throw i}},fixDate:function(e){if(e.getMinutes()===59){e.setHours(0,0,0,0)}if(e.getHours()===0){e=new Date(e);e.setMinutes(-e.getTimezoneOffset())}return e},fixDateVisualization:function(e){if(e.length>0){e.forEach(function(e){var t=Object.keys(e);for(var i=0;i<t.length;i++){var o=e[t[i]];if(o instanceof Date){o=new Date(o);o.setMinutes(o.getTimezoneOffset());e[t[i]]=o}}})}return e},changeEditInProgress:function(e){var t=this.getOwnerComponent().getModel("editInProgressModel");var i=t.getProperty("/value");i=t.setProperty("/value",!i)},updateFilters:function(e){var t=[];var i=[];if(e.length>0){e.forEach(function(e){var t=i.find(function(t){return t.Id===e.Id});if(!t){i.push({Name:e.Name,Id:e.Id})}})}this.getOwnerComponent().getModel("viewModel").setProperty("/filterSubList",i);var o=this.getModel("viewModel").getProperty("/dateChanged");if(!o){var r=this.getModel("viewModel").getProperty("/today");var n=new Date(r);var s=new Date(r);for(var a=0;a<e.length;a++){n=e[a].ValidFrom<=n?e[a].ValidFrom:n;s=e[a].ValidTo>=s?e[a].ValidTo:s}this.getOwnerComponent().getModel("viewModel").setProperty("/startDateSubList",n);this.getOwnerComponent().getModel("viewModel").setProperty("/endDateSubList",s)}},fixFilterDates:function(){var e=this.getModel("viewModel").getProperty("/startDateSubList");var t=this.getModel("viewModel").getProperty("/endDateSubList");var i=Object.assign([],this.getModel("substitutesModel").getData());if(i.length>0){var o=i.find(function(t){return t.ValidFrom<e&&t.ValidTo>e});var r=i.find(function(e){return e.ValidFrom<t&&e.ValidTo>t});if(o){e=new Date(o.ValidFrom);this.getModel("viewModel").setProperty("/startDateSubList",e)}if(r){t=new Date(r.ValidTo);this.getModel("viewModel").setProperty("/endDateSubList",t)}}},onFiltersApply:function(e,t){var i=[];var o=this.getModel("viewModel")?this.getModel("viewModel").getProperty("/dateChanged"):undefined;var r=this.getModel("viewModel").getProperty("/startDateSubList");var n=this.getModel("viewModel").getProperty("/endDateSubList");if(e){var s={};if(this.filterDialog){s=this.filterDialog.getSelectedFilterKeys()}if(t){i=i.concat(e)}var l=Object.keys(s);if(l.length>0){var u=[];for(var g=0;g<l.length;g++){u.push(new a("Id",d.EQ,l[g]))}i.push(new a(u,false))}}if(e!=="refresh"&&o===true){this.reloadTable(r,n)}this.getView().byId("substitutesTable").getBinding("items").filter(i,"Application");this.changeFilterInserted()},reloadTable:function(e,t){var i=[];i.push(new a("ValidFrom",d.EQ,this.fixDate(e)));i.push(new a("ValidTo",d.EQ,this.fixDate(t)));sap.ui.core.BusyIndicator.show();this.getModel("approversMgmtModel").read("/SubstituteSet",{filters:i,success:function(e){this.fixDateVisualization(e.results);this.getModel("substitutesModel").setData(e.results);this.getModel("substitutesModel").refresh(true);sap.ui.core.BusyIndicator.hide()}.bind(this),error:function(e){sap.ui.core.BusyIndicator.hide();this.comunicationError(e)}.bind(this)})},changeFilterInserted:function(){var e=false;var t=this.getModel("viewModel")?this.getModel("viewModel").getProperty("/dateChanged"):undefined;var i=this.filterDialog;if(t){e=true}if(i){if(i.getSelectedFilterItems().length>0){e=true}}this.getModel("viewModel").setProperty("/filterInserted",e)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},onSaveChanges:function(e){if(e.length===0){this.onSaveSuccess();return}var t=this.checkValidityPeriod(e);var i=this.getOwnerComponent().getModel("approversMgmtModel");var o=this;function r(e,t){i.create("/SubstituteSet",e,{success:function(i){if(!t){o.loadSubstitutesModel(o.onSaveSuccess.bind(o),o.onSaveError.bind(o),i)}else{e=t;r(e)}}.bind(o),error:function(e){o.onSaveError()}.bind(o)})}if(t){sap.ui.core.BusyIndicator.show();r(e[0],e[1])}},checkValidityPeriod:function(e){var t=e[0].Id;var i=true;var o=this.getModel("substitutesModel").getData().filter(function(e){return e.Id!==t});o.forEach(function(t){for(var o=0;o<e.length;o++){var r=new Date(this.fixDate(t.ValidFrom));var n=new Date(this.fixDate(t.ValidTo));if(e[o].ValidFrom<=n&&e[o].ValidTo>=r){i=false}}}.bind(this));if(!i){var r=this.getModel("i18n").getResourceBundle();var n=r.getText("validityWarning");this.comunicationWarning(r,n)}return i},onCreateSpecialDates:function(e,t){t.forEach(function(e){this.getView().byId(e).removeAllSpecialDates()}.bind(this));var i=this.getModel("substitutesModel").getData();if(i.length>0){i.forEach(function(e){for(var i=0;i<t.length;i++){var o=new sap.ui.unified.DateTypeRange({startDate:e.ValidFrom,endDate:e.ValidTo,type:"Type02"});this.getView().byId(t[i]).addSpecialDate(o)}}.bind(this))}}})});
},
	"com/livanova/substitutemanager/controller/Detail.controller.js":function(){sap.ui.define(["jquery.sap.global","sap/ui/model/json/JSONModel","./BaseController","com/livanova/substitutemanager/CustomControls/WorkflowListControl","sap/ui/core/Fragment","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(t,e,i,s,o,a,r){"use strict";return i.extend("com.livanova.substitutemanager.controller.Detail",{onInit:function(){this.oRouter=this.getOwnerComponent().getRouter();this.oModel=this.getOwnerComponent().getModel();this.oRouter.getRoute("detail").attachPatternMatched(this.onDataMatched,this)},onSaveSuccess:function(){this.refreshEditModel();this.getModel("viewModel").setProperty("/editDetail",false);this.changeEditInProgress();sap.ui.core.BusyIndicator.hide();this.comunicationSuccess()},onSaveError:function(){this.refreshEditModel();this.getModel("viewModel").setProperty("/editDetail",false);this.changeEditInProgress();sap.ui.core.BusyIndicator.hide();this.comunicationError()},loadSubstitutesModel:function(t,e,i,s){var o=this.getModel("viewModel")?this.getModel("viewModel").getProperty("/dateChanged"):undefined;if(o){var l=this.getModel("viewModel").getProperty("/startDateSubList");var d=this.getModel("viewModel").getProperty("/endDateSubList");var n=[];n.push(new a("ValidFrom",r.EQ,this.fixDate(l)));n.push(new a("ValidTo",r.EQ,this.fixDate(d)))}this.getModel("approversMgmtModel").read("/SubstituteSet",{filters:n,success:function(e){this.fixDateVisualization(e.results);this.updateFilters(e.results);this.getModel("substitutesModel").setData(e.results);this.getModel("substitutesModel").refresh(true);this.getModel("activeSubstituteModel").setData(Object.assign([],e.results));this.getModel("activeSubstituteModel").refresh(true);var s=e.results.findIndex(function(t){return t.Id===i.Id&&i.ValidFrom>=t.ValidFrom&&i.ValidTo<=t.ValidTo});if(s>=0){this._substitute=s;var o=this.getOwnerComponent().getHelper().getNextUIState(1);this.oRouter.navTo("detail",{layout:o.layout,substitute:this._substitute})}t()}.bind(this),error:function(t){e()}.bind(this),groupId:s})},adjustChanges:function(t,e){var i=[];var s;if(t.ValidFrom!==e.ValidFrom){var o={};o.Id=t.Id;o.Name=t.Name;if(e.ValidFrom>t.ValidFrom){o.ValidFrom=t.ValidFrom;s=new Date(e.ValidFrom);s.setDate(s.getDate()-1);o.ValidTo=s;o.Active=false}else{o.ValidFrom=e.ValidFrom;s=new Date(t.ValidFrom);s.setDate(s.getDate()-1);o.ValidTo=s;o.Active=true}o.ValidFrom=this.fixDate(o.ValidFrom);o.ValidTo=this.fixDate(o.ValidTo);i.push(o)}if(t.ValidTo!==e.ValidTo){var a={};a.Id=t.Id;a.Name=t.Name;if(e.ValidTo>t.ValidTo){s=new Date(t.ValidTo);s.setDate(s.getDate()+1);a.ValidFrom=s;a.ValidTo=e.ValidTo;a.Active=true}else{s=new Date(e.ValidTo);s.setDate(s.getDate()+1);a.ValidFrom=s;a.ValidTo=t.ValidTo;a.Active=false}a.ValidFrom=this.fixDate(a.ValidFrom);a.ValidTo=this.fixDate(a.ValidTo);i.push(a)}return i},handleFullScreen:function(){var t=this.oModel.getProperty("/actionButtonsInfo/midColumn/fullScreen");this.oRouter.navTo("detail",{layout:t,substitute:this._substitute})},handleExitFullScreen:function(){var t=this.oModel.getProperty("/actionButtonsInfo/midColumn/exitFullScreen");this.oRouter.navTo("detail",{layout:t,substitute:this._substitute})},handleClose:function(t){var e=this.getModel("viewModel").getProperty("/add");if(e){function i(){this.getModel("viewModel").setProperty("/add",false);this.changeEditInProgress();var t=this.oModel.getProperty("/actionButtonsInfo/midColumn/closeColumn");this.oRouter.navTo("master",{layout:t})}this.confirmUndo(i.bind(this))}else{if(t){this.checkEditInProgress()}var s=this.oModel.getProperty("/actionButtonsInfo/midColumn/closeColumn");this.oRouter.navTo("master",{layout:s})}},onDataMatched:function(t){this._substitute=t.getParameter("arguments").substitute||this._substitute||"0";this.refreshEditModel();if(!this.getModel("viewModel").getProperty("/add")){this.getView().bindElement({path:"/"+this._substitute,model:"substitutesModel"});var e=this.getModel("substitutesModel").getProperty("/"+this._substitute);var i=new s({approverData:e,controller:this});var o=this.getView().byId("workflowVbox");o.removeAllItems();o.addItem(i)}},refreshEditModel:function(){var t=this.getModel("substitutesModel").getProperty("/"+this._substitute);var e=this.getModel("substitutesEditModel").getData();if(!e.ValidFrom){}else{t=!t?e:t}var i=Object.assign({},t);this.getModel("substitutesEditModel").setData(i);this.getModel("substitutesEditModel").refresh(true);if(t){this.onCreateSpecialDates(t.Id,["datePicker1","datePicker2"]);this.setDelimitedDates()}},setDelimitedDates:function(){var t=this.getModel("substitutesEditModel").getData();var e=["datePicker1","datePicker2"];var i=this.getView().byId("datePicker1");var s=this.getView().byId("datePicker2");var o=new Date(this.getModel("viewModel").getProperty("/today"));try{var a=this.getModel("approversListModel").getData().find(function(e){return e.Id===t.Id});if(t.ValidFrom>=o){if(a){if(a.ValidFrom<=o){i.setMinDate(o)}else{i.setMinDate(a.ValidFrom)}s.setMaxDate(a.ValidTo)}else{i.setMinDate(o);s.setMaxDate(null)}i.setMaxDate(t.ValidTo);s.setMinDate(t.ValidFrom)}else{if(t.ValidTo>=o){s.setMinDate(o);if(a){s.setMaxDate(a.ValidTo)}else{s.setMaxDate(null)}}}}catch(t){s.setMinDate(o);s.setMaxDate(null)}},onEditDetail:function(t){this.getModel("viewModel").setProperty("/editDetail",true);this.changeEditInProgress()},onSaveDetail:function(t){var e=this.getModel("substitutesEditModel").getData();var i=this.getModel("substitutesModel").getProperty("/"+this._substitute);var s=this.adjustChanges(i,e);this.onSaveChanges(s)},onUndoDetail:function(t){function e(){this.getModel("viewModel").setProperty("/editDetail",false);this.changeEditInProgress();this.refreshEditModel()}this.confirmUndo(e.bind(this))},onDeleteDetail:function(){function t(){this.handleClose(false);var t=this.getModel("substitutesModel").getProperty("/"+this._substitute);t.Active=false;t.ValidFrom=this.fixDate(t.ValidFrom);t.ValidTo=this.fixDate(t.ValidTo);this.onSaveChanges([t])}var e=this.getView().getModel("i18n").getResourceBundle();var i=e.getText("deleteSubstitute");this.confirmUndo(t.bind(this),i)}})});
},
	"com/livanova/substitutemanager/controller/Master.controller.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","./BaseController","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/m/MessageBox","sap/ui/core/Fragment"],function(e,t,i,s,o,r,a){"use strict";return t.extend("com.livanova.substitutemanager.controller.Master",{onInit:function(){this.oRouter=this.getOwnerComponent().getRouter();this._bDescendingSort=false},onAfterRendering:function(){this.onFilterActiveSubstitute();this.onRefresh(true)},handleChangeDate:function(e){e.getSource().getSpecialDates();this.onCreateSpecialDates("",["dateRange"]);var t=this.getModel("viewModel").getProperty("/today");var i=new Date(t);this.getView().byId("dateRange").setMinDate(i)},onListItemPress:function(e){this.checkEditInProgress();var t=this.substitute;var i=this.getOwnerComponent().getHelper().getNextUIState(1);var s=e.getSource().getBindingContext("substitutesModel")?e.getSource().getBindingContext("substitutesModel").getPath():e.getSource().getBindingContext("activeSubstituteModel").getPath();this.substitute=s.split("/").slice(-1).pop();this.oRouter.navTo("detail",{layout:i.layout,substitute:this.substitute})},onSearch:function(e){var t=[],o=e.getParameter("query");if(o&&o.length>0){t=[new i("Name",s.Contains,o)]}this.onFiltersApply(t,true)},onSort:function(e){if(!this.popoverSort){this.popoverSort=sap.ui.xmlfragment("com.livanova.substitutemanager.view.fragments.SorterSubstitutesPopover",this);this.getView().addDependent(this.popoverSort)}this.popoverSort.openBy(e.getSource())},sortTable:function(e){var t={};var i=e.getSource().getCustomData();for(var s=0;s<e.getSource().getCustomData().length;s++){t[i[s].getKey()]=i[s].getValue()}var r=new o(t.path,t.descending==="true");this.getView().byId("substitutesTable").getBinding("items").sort(r);this.popoverSort.close()},onRefresh:function(e){var t=[];if(!(e===true)){var o=this.getModel("viewModel").getProperty("/startDateSubList");var r=this.getModel("viewModel").getProperty("/endDateSubList");t.push(new i("ValidFrom",s.EQ,this.fixDate(o)));t.push(new i("ValidTo",s.EQ,this.fixDate(r)))}sap.ui.core.BusyIndicator.show();this.getModel("approversMgmtModel").read("/SubstituteSet",{filters:t,success:function(t){this.fixDateVisualization(t.results);this.updateFilters(t.results);this.onFiltersApply("refresh");this.getModel("substitutesModel").setData(t.results);this.getModel("substitutesModel").refresh(true);var i=this.getView().getModel("i18n").getResourceBundle();var s=i.getText("updated");sap.ui.core.BusyIndicator.hide();if(!(e===true)){this.comunicationSuccess(i,s)}}.bind(this),error:function(e){sap.ui.core.BusyIndicator.hide();this.comunicationError(e)}.bind(this)})},onChangeView:function(e){var t=this.getOwnerComponent().getModel("editInProgressModel").getData().value;this.onCreateSpecialDates("",["dateRange"])},onFilter:function(e){if(!this.filterDialog){a.load({name:"com.livanova.substitutemanager.view.fragments.FilterDialog",controller:this}).then(function(e){this.filterDialog=e;this.filterDialog.setModel(this.getModel("viewModel"),"viewModel");this.filterDialog.setModel(this.getOwnerComponent().getModel("i18n"),"i18n");this.filterDialog.open()}.bind(this))}else{this.filterDialog.open()}},onFilterCancel:function(e){var t=this.getModel("substitutesModel").getData();this.updateFilters(t)},onFilterReset:function(e){var t=this.getModel("substitutesModel").getData();this.filterDialog=undefined;this.onRefresh(true)},onSaveAddDetail:function(e){var t=this.getModel("substitutesAddModel").getData();if(!t.Id){var i=this.getView().getModel("i18n").getResourceBundle();var s=i.getText("substituteMissing");this.comunicationWarning(i,s);return}t.Active=true;t.ValidFrom=this.fixDate(t.ValidFrom);t.ValidTo=this.fixDate(t.ValidTo);this.onSaveChanges([t])},onRefreshAddModel:function(){var e=this.getModel("viewModel").getProperty("/today");var t=new Date(e);var i=new Date(e);this.getModel("substitutesAddModel").setData({});this.getModel("substitutesAddModel").refresh(true);this.getModel("substitutesAddModel").setProperty("/ValidFrom",t);this.getModel("substitutesAddModel").setProperty("/ValidTo",i)},onSaveSuccess:function(){sap.ui.core.BusyIndicator.hide();this.onRefreshAddModel();this.comunicationSuccess()},onSaveError:function(){sap.ui.core.BusyIndicator.hide();this.onRefreshAddModel();this.comunicationError()},onCancelActiveSubstitute:function(){var e=this.getView().getModel("i18n").getResourceBundle();var t=e.getText("confirmCancelActiveSubstitute");function i(){var e=new Date;var t=this.getModel("viewModel").getProperty("/today");var i=this.getModel("substitutesModel").getData().find(function(e){return e.ValidFrom<=t&&e.ValidTo>=t});if(i.ValidTo.toDateString()!==t.toDateString()){i.ValidFrom=new Date(t);i.ValidFrom.setDate(t.getDate()+1);i.ValidFrom=this.fixDate(i.ValidFrom);i.ValidTo=this.fixDate(i.ValidTo);i.Active=false;this.onSaveChanges([i])}}this.confirmUndo(i.bind(this),t)},loadSubstitutesModel:function(e,t,o,r){var a=this.getModel("viewModel")?this.getModel("viewModel").getProperty("/dateChanged"):undefined;if(a){var n=this.getModel("viewModel").getProperty("/startDateSubList");var d=this.getModel("viewModel").getProperty("/endDateSubList");var l=[];l.push(new i("ValidFrom",s.EQ,this.fixDate(n)));l.push(new i("ValidTo",s.EQ,this.fixDate(d)))}this.getModel("approversMgmtModel").read("/SubstituteSet",{filters:l,success:function(t){this.fixDateVisualization(t.results);this.updateFilters(t.results);this.getModel("substitutesModel").setData(t.results);this.getModel("substitutesModel").refresh(true);this.getModel("activeSubstituteModel").setData(Object.assign([],t.results));this.getModel("activeSubstituteModel").refresh(true);e()}.bind(this),error:function(e){t()}.bind(this),groupId:r})},onOpenApproversList:function(e){this.getModel("approversMgmtModel").read("/PossibleSubstituteSet",{success:function(e){this.getModel("approversListModel").setData(e.results);this.getModel("approversListModel").refresh(true);this.getModel("viewModel").setProperty("/loadApprovers",false)}.bind(this),error:function(e){this.getModel("viewModel").setProperty("/loadApprovers",false);this.comunicationError(e)}.bind(this)});if(!this.getView().byId("approversListDialogTable")){a.load({id:this.getView().getId(),name:"com.livanova.substitutemanager.view.fragments.ApproversListDialog",controller:this}).then(function(e){this.getView().addDependent(e);e.open()}.bind(this))}else{this.getView().byId("approversListDialogTable").getBinding("items").filter([],"Application");this.getView().byId("approversListDialogTable").open()}},handleCloseApproversDialog:function(e){this.getModel("viewModel").setProperty("/loadApprovers",true);var t=this.getView().getModel("approversListModel"),i=t.getProperty("/");var s=this.getModel("substitutesAddModel");var o=i.some(function(e){if(e.selected){s.setProperty("/Id",e.Id);s.setProperty("/Name",e.Name);this.setDelimitedDates(e);return true}}.bind(this))},setDelimitedDates:function(e){var t=this.getView().byId("dateRange");var i=this.getModel("viewModel").getProperty("/today");var s=new Date(i);var o=new Date(i);s=e.ValidFrom<=s?s:e.ValidFrom;o=e.ValidTo;t.setMinDate(s);t.setMaxDate(o)},handleSearchApproversDialog:function(e){var t=[],o=e.getParameter("value");if(o&&o.length>0){t=[new i("Name",s.Contains,o)]}this.getView().byId("approversListDialogTable").getBinding("items").filter(t,"Application")},onFilterActiveSubstitute:function(){var e=this.getView().getModel("viewModel").getProperty("/today");var t=[new i("ValidFrom",s.LE,e)];t.push(new i("ValidTo",s.GE,e));this.getView().byId("activeSubstituteTable").getBinding("items").filter(t,"Application")},onChangeFilterDate:function(e){this.getModel("viewModel").setProperty("/dateChanged",e)}})});
},
	"com/livanova/substitutemanager/formatters/formatter.js":function(){sap.ui.define([],function(){"use strict";return{formatDate:function(t){var e=this.getModel("viewModel").getProperty("/dateFormat");var r=sap.ui.core.format.DateFormat.getDateInstance({pattern:e});var a=r.format(t);if(a==="01/01/1970"||a===""){a=null}return a},dateValidityState:function(t,e){var r="Error";var a=this.getModel("viewModel").getProperty("/today");if(a>=t&&a<=e||a.toDateString()===t.toDateString()||a.toDateString()===e.toDateString()){r="Success"}else if(a<t){r="None"}return r},visibilityDetailEdit:function(t,e,r){var a=true;var i=this.getModel("viewModel").getProperty("/today");if(!t){a=r==="Text"?true:false}else{if(e<=i){a=r==="Text"?true:false}else{a=r==="Date"?true:false}}return a},enableTerminateSub:function(t){var e=true;if(this.byId("activeSubstituteTable").getItems().length===0){e=false}return e}}});
},
	"com/livanova/substitutemanager/i18n/i18n.properties":'title=Substitute Manager\nappTitle=Substitute Manager\nappDescription=Substitute Manager\n\n#GENERAL\nedit=Edit\nsave=Save\ndelete=Delete\nadd=Add\nsort=Sort\nundo=Undo\nerrCom=A communication error has occurred.\nerr=Error\nsuccCom=Changes saved.\natt=Warning\n\n#MESSAGES\neditInProgress=Before performing this action, changes must be saved or canceled.\ncancelChanges=Are you sure you want to discard changes?\nvalidityWarning=There is a conflict problem, change dates and save again.\ndeleteSubstitute=Are you sure you want to delete?\nsubstituteMissing=Select a substitute first.\nupdated=Data updated.\nconfirmCancelActiveSubstitute=Are you sure you want to deactivate this substitute?\n\n#MASTER PAGE\nsubListTitle=Substitutes List\nworkflowListTitle=Workflows\nviewWorkFlow=View all workflows\nviewSubList=View substitutes list\nname=Name\nvalidity=Validity\nbegda=Start Date\nendda=End Date\nsearchSubList=Search by Name\nsearchSubListCompressed=Name\nnewSubstitute=New\nsubstitute=Substitute\n\naddFormTitle=New Substitute\nactiveSub=Active substitute\nselectSubstitute=Select substitute\ncancelActiveSubstitute=Deactivate \n\nfrom=From\nto=To\n\n#DETAIL PAGE\nid=Id\nvalidFrom=Valid From\nvalidTo=Valid To\ngeneralInfo =General Informations\napprovedWf=Managed Workflows\n\n\n#WORKFLOW CONTROL\ncode=Code\ndescription=Description\napprover=Approver\napprovalDate=Date\nworkflow=Workflow\nnoWorkflows=There are no managed workflows yet.\nsearchWorkflowList=Search by Workflow\nsearchWorkflowListCompressed=Workflow\nstate=Status\napproved=Approved\nrejected=Rejected\n\n#APPROVERS LIST FRAGMENT\napprovers=Approvers\nchooseApprover=Choose approver',
	"com/livanova/substitutemanager/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"com.livanova.substitutemanager","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"1.0.0"},"title":"{{appTitle}}","description":"{{appDescription}}","dataSources":{"ZAPPROVERS_MANAGER_SRV":{"uri":"sap/opu/odata/sap/ZAPPROVERS_MANAGER_SRV/","type":"OData","settings":{"localUri":"localService/metadata.xml"}}},"crossNavigation":{"inbounds":{"com-livanova-substitutemanager-inbound":{"signature":{"parameters":{},"additionalParameters":"allowed"},"semanticObject":"substitutemanager","action":"display","title":"Substitute Manager","subTitle":"","icon":""}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"rootView":{"viewName":"com.livanova.substitutemanager.view.App","type":"XML","async":false,"id":"fcl"},"dependencies":{"minUI5Version":"1.65.6","libs":{"sap.f":{},"sap.m":{},"sap.ui.core":{},"sap.ui.layout":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"com.livanova.substitutemanager.i18n.i18n"}},"approversMgmtModel":{"type":"sap.ui.model.odata.v2.ODataModel","settings":{"defaultOperationMode":"Server","defaultBindingMode":"OneWay","defaultCountMode":"Request"},"dataSource":"ZAPPROVERS_MANAGER_SRV","preload":true}},"resources":{"css":[{"uri":"css/style.css"}]},"config":{"fullWidth":true},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"com.livanova.substitutemanager.view","controlId":"fcl","transition":"slide","bypassed":{}},"routes":[{"pattern":":layout:","name":"master","target":["master"]},{"pattern":"detail/{substitute}/{layout}","name":"detail","target":["master","detail"]}],"targets":{"master":{"viewName":"Master","controlAggregation":"beginColumnPages"},"detail":{"viewName":"Detail","controlAggregation":"midColumnPages"}}}},"sap.cloud":{"public":true,"service":"com-livanova-substitutemanager"}}',
	"com/livanova/substitutemanager/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device","com/livanova/substitutemanager/controller/BaseController"],function(e,t,r){"use strict";return{createSubstitutesModel:function(t,a){var o=new e;var s=t.getModel("i18n").getResourceBundle();t.getModel("approversMgmtModel").read("/SubstituteSet",{success:function(e){a.fixDateVisualization(e.results);a.updateFilters(e.results);o.setData(e.results)}.bind(this),error:function(e){r.prototype.comunicationError.apply(t,[e,s])},groupId:"initialCall"});return o},setDateFormat:function(t,r){var a=new e;var o=t.getModel("i18n").getResourceBundle();t.getModel("approversMgmtModel").read("/UserParametersSet",{success:function(e){e.results[0].DateFormat=e.results[0].DateFormat.replace(/D/g,"d");if(!(e.results[0].DateFormat.includes("dd")&&e.results[0].DateFormat.includes("MM")&&e.results[0].DateFormat.includes("YYYY"))){e.results[0].DateFormat="dd/MM/yyyy"}a.setData(e.results[0])}.bind(this),error:function(e){},groupId:"initialCall"});return a},createApproversListModel:function(t,a){var o=new e;var s=t.getModel("i18n").getResourceBundle();t.getModel("approversMgmtModel").read("/PossibleSubstituteSet",{success:function(e){a.fixDateVisualization(e.results);o.setData(e.results)}.bind(this),error:function(e){r.prototype.comunicationError.apply(t,[e,s])},groupId:"initialCall"});return o},createWorkflowModel:function(t){var r=new e;var a=t.getModel("i18n").getResourceBundle();return r},createActiveSubstituteModel:function(t,a){var o=new e;var s=t.getModel("i18n").getResourceBundle();t.getModel("approversMgmtModel").read("/SubstituteSet",{success:function(e){o.setData(e.results)}.bind(this),error:function(e){r.prototype.comunicationError.apply(t,[e,s])},groupId:"initialCall"});return o},createDeviceModel:function(){var r=new e(t);r.setDefaultBindingMode("OneWay");return r},createEditInProgressModel:function(){var t=new e({value:false});return t},createViewModel:function(t){var r=new Date;var a=r.getDate();r.setHours(0,0,0,0);var o=new e({editDetail:false,today:r,substitutesListView:true,controller:this,dateFormat:"dd/MM/yyyy",add:false,loadApprovers:true,filterInserted:false});return o},createSubstitutesEditModel:function(){var t=new e({});return t},createSubstitutesAddModel:function(){var t=new Date;var r=t.getDate();t.setHours(0,0,0,0);var a=new e({ValidFrom:t,ValidTo:t});return a}}});
},
	"com/livanova/substitutemanager/serviceBinding.js":'function initModel(){var a="/sap/opu/odata/sap/ZAPPROVERS_MANAGER_SRV/";var e=new sap.ui.model.odata.ODataModel(a,true);sap.ui.getCore().setModel(e)}',
	"com/livanova/substitutemanager/view/App.view.xml":'<mvc:View controllerName="com.livanova.substitutemanager.controller.App" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m"\n\theight="100%" xmlns:f="sap.f" xmlns:u="sap.ui.unified"><Shell><Page showHeader="{device>/system/phone}"><headerContent><Bar><contentRight><Image src="{rootPath>/path}/images/logo.png" width="25%"/></contentRight></Bar></headerContent><f:FlexibleColumnLayout id="fcl" stateChange="onStateChanged" layout="{/layout}" backgroundDesign="Translucent"/></Page></Shell></mvc:View>',
	"com/livanova/substitutemanager/view/Detail.view.xml":'<mvc:View displayBlock="true" controllerName="com.livanova.substitutemanager.controller.Detail" height="100%" xmlns="sap.uxap"\n\txmlns:mvc="sap.ui.core.mvc" xmlns:m="sap.m" xmlns:f="sap.f" xmlns:form="sap.ui.layout.form" xmlns:u="sap.ui.unified"\n\txmlns:core="sap.ui.core" xmlns:customControls="com.livanova.substitutemanager.CustomControls"><ObjectPageLayout id="ObjectPageLayout" showTitleInHeaderContent="true" alwaysShowContentHeader="false" preserveHeaderStateOnScroll="false"\n\t\theaderContentPinnable="true" isChildPage="true" upperCaseAnchorBar="false" visible="{= !${viewModel>/add}}"><headerTitle><ObjectPageDynamicHeaderTitle><expandedHeading><m:Title text="{substitutesModel>Name}" wrapping="true" class="sapUiTinyMarginEnd"/></expandedHeading><snappedHeading><m:Title text="{substitutesModel>Name}" wrapping="true" class="sapUiTinyMarginEnd"/></snappedHeading><navigationActions><m:OverflowToolbarButton type="Transparent" icon="sap-icon://full-screen" press="handleFullScreen" tooltip="Enter Full Screen Mode"\n\t\t\t\t\t\tvisible="{= ${/actionButtonsInfo/midColumn/fullScreen} !== null }"/><m:OverflowToolbarButton type="Transparent" icon="sap-icon://exit-full-screen" press="handleExitFullScreen" tooltip="Exit Full Screen Mode"\n\t\t\t\t\t\tvisible="{= ${/actionButtonsInfo/midColumn/exitFullScreen} !== null }"/><m:OverflowToolbarButton type="Transparent" icon="sap-icon://decline" press="handleClose" tooltip="Close column"\n\t\t\t\t\t\tvisible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/></navigationActions></ObjectPageDynamicHeaderTitle></headerTitle><headerContent><m:VBox><m:Toolbar><m:ToolbarSpacer/><m:OverflowToolbarButton tooltip="{i18n>edit}" icon="sap-icon://edit" type="Emphasized" press="onEditDetail"\n\t\t\t\t\t\tvisible="{= !${viewModel>/editDetail} &amp;&amp; ${substitutesModel>ValidTo} >= ${viewModel>/today}}"/><m:OverflowToolbarButton tooltip="{i18n>save}" icon="sap-icon://save" type="Emphasized" press="onSaveDetail"\n\t\t\t\t\t\tvisible="{viewModel>/editDetail}"/><m:OverflowToolbarButton tooltip="{i18n>undo}" icon="sap-icon://undo" type="Emphasized" press="onUndoDetail"\n\t\t\t\t\t\tvisible="{viewModel>/editDetail}"/><m:OverflowToolbarButton tooltip="{i18n>delete}" icon="sap-icon://delete" type="Emphasized" press="onDeleteDetail"\n\t\t\t\t\t\tvisible="{= ${viewModel>/editDetail} &amp;&amp; ${substitutesModel>ValidFrom} > ${viewModel>/today}}"/></m:Toolbar><form:SimpleForm editable="true" layout="GridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false"\n\t\t\t\t\temptySpanXL="3" emptySpanL="3" emptySpanM="3" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"><form:content><m:Label text="{i18n>validFrom}"/><m:VBox><m:Text text="{ path: \'substitutesModel>ValidFrom\', formatter: \'.formatter.formatDate\' }"\n\t\t\t\t\t\t\t\tvisible="{ parts: [{path: \'viewModel>/editDetail\'},{path: \'substitutesModel>ValidFrom\'}, {value:\'Text\'}], formatter: \'.formatter.visibilityDetailEdit\'}"/><m:DatePicker id="datePicker1"\n\t\t\t\t\t\t\t\tvisible="{ parts: [{path: \'viewModel>/editDetail\'},{path: \'substitutesModel>ValidFrom\'}, {value:\'Date\'}], formatter: \'.formatter.visibilityDetailEdit\'}"\n\t\t\t\t\t\t\t\tdateValue="{path:\'substitutesEditModel>/ValidFrom\'}" displayFormat="{viewModel>/dateFormat}" change="setDelimitedDates"\n\t\t\t\t\t\t\t\tvalueFormat="{viewModel>/dateFormat}" class="disabledp"/></m:VBox><m:Label text="{i18n>validTo}"/><m:VBox><m:Text text="{ path: \'substitutesModel>ValidTo\', formatter: \'.formatter.formatDate\' }" visible="{= !${viewModel>/editDetail}}"/><m:DatePicker id="datePicker2" visible="{viewModel>/editDetail}" dateValue="{path:\'substitutesEditModel>/ValidTo\'}"\n\t\t\t\t\t\t\t\tdisplayFormat="{viewModel>/dateFormat}" change="setDelimitedDates" valueFormat="{viewModel>/dateFormat}" class="disabledp"/></m:VBox></form:content></form:SimpleForm></m:VBox></headerContent><sections><ObjectPageSection title="{i18n>approvedWf}"><subSections><ObjectPageSubSection id="subSectionWorkflow"><blocks><m:VBox id="workflowVbox" height="100%"></m:VBox></blocks></ObjectPageSubSection></subSections></ObjectPageSection></sections></ObjectPageLayout></mvc:View>',
	"com/livanova/substitutemanager/view/Master.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" height="100%" xmlns="sap.m" xmlns:f="sap.f" xmlns:form="sap.ui.layout.form"\n\tcontrollerName="com.livanova.substitutemanager.controller.Master" xmlns:html="http://www.w3.org/1999/xhtml"\n\txmlns:customControls="com.livanova.substitutemanager.CustomControls"><f:DynamicPage id="dynamicPageId" toggleHeaderOnTitleClick="false"><f:content><IconTabBar id="idIconTabBar" select="onChangeView" class="sapUiResponsiveContentPadding iconTabText" expanded="true" expandable="false"\n\t\t\t\theaderBackgroundDesign="Solid" stretchContentHeight="true"><items><IconTabFilter icon="sap-icon://add-contact" iconColor="Default" text="{i18n>addFormTitle}" key="addForm"><VBox width="100%"><form:SimpleForm editable="true" layout="ResponsiveGridLayout" labelSpanXL="6" labelSpanL="6" labelSpanM="6" labelSpanS="12"\n\t\t\t\t\t\t\t\tadjustLabelSpan="false" emptySpanXL="2" emptySpanL="2" emptySpanM="2" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1"\n\t\t\t\t\t\t\t\tsingleContainerFullSize="false"><form:content><Label text="{i18n>name}"/><Input showValueHelp="true" valueHelpOnly="true" valueHelpRequest="onOpenApproversList" placeholder="{i18n>selectSubstitute}"\n\t\t\t\t\t\t\t\t\t\tsuggestionItems="{ path: \'approversListModel>/\', sorter: { path: \'Name\' } }" selectedKey="{substitutesAddModel>/Id}"><core:Item key="{approversListModel>Id}" text="{approversListModel>Name} ({approversListModel>Id})"/></Input><Label text="{i18n>validity}"/><DateRangeSelection id="dateRange" dateValue="{path:\'substitutesAddModel>/ValidFrom\',formatOptions: {UTC: false}}"\n\t\t\t\t\t\t\t\t\t\tsecondDateValue="{substitutesAddModel>/ValidTo}" showFooter="true" change="handleChangeDate" displayFormat="{viewModel>/dateFormat}"\n\t\t\t\t\t\t\t\t\t\tmodelContextChange=".onCreateSpecialDates(\'\',[\'dateRange\'])" class="disabledp"/><Label text=""/><HBox width="100%" justifyContent="End"><Button text="{i18n>save}" icon="sap-icon://save" type="Emphasized" press="onSaveAddDetail"/></HBox></form:content></form:SimpleForm><Table id="activeSubstituteTable" inset="false" items="{ path: \'activeSubstituteModel>/\'}"\n\t\t\t\t\t\t\t\tclass="sapFDynamicPageAlignContent sapUiTinyMargin sapUiMediumMarginTop" width="auto"><headerToolbar><Toolbar><Title text="{i18n>activeSub}"/><ToolbarSpacer/><Button visible="false" icon="sap-icon://stop" type="Transparent" press="onCancelActiveSubstitute" text="{i18n>cancelActiveSubstitute}"\n\t\t\t\t\t\t\t\t\t\t\tenabled="{ path: \'activeSubstituteModel>/\', formatter: \'.formatter.enableTerminateSub\' }"/></Toolbar></headerToolbar><columns><Column ><Text text="{i18n>name}"/></Column><Column hAlign="End"><Text text="{i18n>validity}"/></Column></columns><items><ColumnListItem type="Navigation" press="onListItemPress"><cells><VBox class="sapUiTinyMarginTop sapUiTinyMarginBottom"><ObjectIdentifier title="{activeSubstituteModel>Name}" text="({activeSubstituteModel>Id})"/></VBox><ObjectStatus\n\t\t\t\t\t\t\t\t\t\t\t\ttext="{ path: \'activeSubstituteModel>ValidFrom\', formatter: \'.formatter.formatDate\' } - { path: \'activeSubstituteModel>ValidTo\', formatter: \'.formatter.formatDate\' }"\n\t\t\t\t\t\t\t\t\t\t\t\tstate="{ parts: [{path: \'activeSubstituteModel>ValidFrom\'}, {path: \'activeSubstituteModel>ValidTo\'}], formatter: \'.formatter.dateValidityState\'}"/></cells></ColumnListItem></items></Table></VBox></IconTabFilter><IconTabSeparator/><IconTabFilter icon="sap-icon://list" iconColor="Default" text="{i18n>subListTitle}" key="substitutesList"><ScrollContainer vertical="true" horizontal="false" height="100%"><Table id="substitutesTable" inset="false" items="{ path: \'substitutesModel>/\'}" class="sapFDynamicPageAlignContent sapUiTinyMargin"\n\t\t\t\t\t\t\t\twidth="auto"><headerToolbar><Toolbar><ToolbarSpacer/><SearchField search="onSearch" width="{= ${/layout} === \'TwoColumnsMidExpanded\' || ${device>/system/phone} ? \'50%\' : \'auto\'}"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder="{= ${/layout} === \'TwoColumnsMidExpanded\' || ${device>/system/phone} ? ${i18n>searchSubListCompressed} : ${i18n>searchSubList}}"/><Button icon="sap-icon://refresh" type="Transparent" press="onRefresh"/><Button icon="sap-icon://sort" type="Transparent" press="onSort"/><Button icon="sap-icon://filter" type="Transparent" press="onFilter"/><Button icon="sap-icon://clear-filter" type="Transparent" press=".onChangeFilterDate(false);onFilterReset"\n\t\t\t\t\t\t\t\t\t\t\tvisible="{viewModel>/filterInserted}"/></Toolbar></headerToolbar><columns><Column ><Text text="{i18n>name}"/></Column><Column hAlign="End"><Text text="{i18n>validity}"/></Column></columns><items><ColumnListItem type="Navigation" press="onListItemPress"><cells><VBox class="sapUiTinyMarginTop sapUiTinyMarginBottom"><ObjectIdentifier title="{substitutesModel>Name}" text="({substitutesModel>Id})"/></VBox><ObjectStatus\n\t\t\t\t\t\t\t\t\t\t\t\ttext="{ path: \'substitutesModel>ValidFrom\', formatter: \'.formatter.formatDate\' } - { path: \'substitutesModel>ValidTo\', formatter: \'.formatter.formatDate\' }"\n\t\t\t\t\t\t\t\t\t\t\t\tstate="{ parts: [{path: \'substitutesModel>ValidFrom\'}, {path: \'substitutesModel>ValidTo\'}], formatter: \'.formatter.dateValidityState\'}"/></cells></ColumnListItem></items></Table></ScrollContainer></IconTabFilter><IconTabFilter icon="sap-icon://history" iconColor="Default" text="{i18n>workflowListTitle}" key="workflowList"><customControls:WorkflowListControl id="workflowHistory" controller="{viewModel>/controller}" class="sapUiTinyMarginTop"/></IconTabFilter></items></IconTabBar></f:content></f:DynamicPage></mvc:View>',
	"com/livanova/substitutemanager/view/fragments/ApproversListDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><TableSelectDialog id="approversListDialogTable" title="{i18n>chooseApprover}" search=".handleSearchApproversDialog"\n\t\tconfirm=".handleCloseApproversDialog" cancel=".handleCloseApproversDialog" busy="{viewModel>/loadApprovers}" busyIndicatorDelay="0"\n\t\titems="{ path : \'approversListModel>/\', sorter : { path : \'Name\', descending : false } }" contentWidth="30%"><columns><Column><Text text="{i18n>name}"/></Column></columns><items><ColumnListItem selected="{approversListModel>selected}"><cells><ObjectIdentifier title="{approversListModel>Name}" text="({approversListModel>Id})"/></cells></ColumnListItem></items></TableSelectDialog></core:FragmentDefinition>',
	"com/livanova/substitutemanager/view/fragments/FilterDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form"><ViewSettingsDialog confirm="onFiltersApply" cancel="onFilterCancel" resetFilters=".onChangeFilterDate(false);onFilterReset"\n\t\tfilterSearchOperator="Contains"><filterItems><ViewSettingsFilterItem text="{i18n>substitute}" key="Id"\n\t\t\t\titems="{ path : \'viewModel>/filterSubList\', sorter : { path : \'Name\', descending : false } }"><items><ViewSettingsItem text="{viewModel>Name}" key="{viewModel>Id}"/></items></ViewSettingsFilterItem><ViewSettingsCustomItem text="{i18n>validity}" key="validity"><customControl><VBox class="sapUiSmallMargin"><f:SimpleForm layout="GridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" emptySpanXL="4" emptySpanL="4"\n\t\t\t\t\t\t\temptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" editable="true"><f:content><Label text="{i18n>from}"/><DatePicker dateValue="{path:\'viewModel>/startDateSubList\'}" displayFormat="{viewModel>/dateFormat}" change=".onChangeFilterDate(true)"\n\t\t\t\t\t\t\t\t\tmaxDate="{viewModel>/today}"/></f:content></f:SimpleForm></VBox></customControl></ViewSettingsCustomItem></filterItems></ViewSettingsDialog></core:FragmentDefinition>',
	"com/livanova/substitutemanager/view/fragments/FilterDialogWorkflow.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form"><ViewSettingsDialog confirm="onFiltersApplyControl" cancel="onFilterCancelControl"\n\t\tresetFilters=".onChangeFilterDateControl(false);onFilterResetControl" filterSearchOperator="Contains"><filterItems><ViewSettingsFilterItem text="{i18n>approver}" key="ApproverId"\n\t\t\t\titems="{ path : \'viewControl>/filterApproverList\', sorter : { path : \'ApproverName\', descending : false } }"><items><ViewSettingsItem text="{viewControl>ApproverName}" key="{viewControl>ApproverId}"/></items></ViewSettingsFilterItem><ViewSettingsFilterItem text="{i18n>workflow}" key="Description"\n\t\t\t\titems="{ path : \'viewControl>/filterWorkflowList\', sorter : { path : \'Description\', descending : false } }"><items><ViewSettingsItem text="{viewControl>Description}" key="{viewControl>Description}"/></items></ViewSettingsFilterItem><ViewSettingsCustomItem text="{i18n>approvalDate}" key="approvalDate"><customControl><VBox class="sapUiSmallMargin"><f:SimpleForm layout="GridLayout" labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" emptySpanXL="4" emptySpanL="4"\n\t\t\t\t\t\t\temptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" editable="true"><f:content><Label text="{i18n>from}"/><DatePicker dateValue="{viewControl>/startDateFilter}" displayFormat="{viewModel>/dateFormat}" change=".onChangeFilterDateControl(true)"\n\t\t\t\t\t\t\t\t\tmaxDate="{viewModel>/today}"/><Label text="{i18n>to}"/><DatePicker dateValue="{viewControl>/endDateFilter}" displayFormat="{viewModel>/dateFormat}" change=".onChangeFilterDateControl(true)"\n\t\t\t\t\t\t\t\t\tmaxDate="{viewModel>/today}"/></f:content></f:SimpleForm></VBox></customControl></ViewSettingsCustomItem><ViewSettingsFilterItem text="{i18n>state}" key="Approved" items="{viewControl>/filterState}"><items><ViewSettingsItem text="{= ${viewControl>Approved} ? ${i18n>approved} : ${i18n>rejected}}" key="{viewControl>Approved}"/></items></ViewSettingsFilterItem></filterItems></ViewSettingsDialog></core:FragmentDefinition>',
	"com/livanova/substitutemanager/view/fragments/SorterSubstitutesPopover.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><Popover class="sapUiContentPadding" placement="Bottom" showHeader="false"><content><VBox><Toolbar><Label text="{i18n>name}" width="45%"/><ToolbarSpacer/><Button icon="sap-icon://sort-ascending" press="sortTable" type="Emphasized" app:path="Name" app:descending="false"/><ToolbarSpacer/><Button icon="sap-icon://sort-descending" press="sortTable" type="Emphasized" app:path="Name" app:descending="true"/></Toolbar><Toolbar><Label text="{i18n>id}" width="45%"/><ToolbarSpacer/><Button icon="sap-icon://sort-ascending" press="sortTable" type="Emphasized" app:path="Id" app:descending="false"/><ToolbarSpacer/><Button icon="sap-icon://sort-descending" press="sortTable" type="Emphasized" app:path="Id" app:descending="true"/></Toolbar><Toolbar><Label text="{i18n>begda}" width="45%"/><ToolbarSpacer/><Button icon="sap-icon://sort-ascending" press="sortTable" type="Emphasized" app:path="ValidFrom" app:descending="false"/><ToolbarSpacer/><Button icon="sap-icon://sort-descending" press="sortTable" type="Emphasized" app:path="ValidFrom" app:descending="true"/></Toolbar><Toolbar><Label text="{i18n>endda}" width="45%"/><ToolbarSpacer/><Button icon="sap-icon://sort-ascending" press="sortTable" type="Emphasized" app:path="ValidTo" app:descending="false"/><ToolbarSpacer/><Button icon="sap-icon://sort-descending" press="sortTable" type="Emphasized" app:path="ValidTo" app:descending="true"/></Toolbar></VBox></content></Popover></core:FragmentDefinition>',
	"com/livanova/substitutemanager/view/fragments/SorterWorkflowPopover.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><Popover class="sapUiContentPadding" placement="Bottom" showHeader="false"><content><VBox><Toolbar><Label text="{i18n>approver}" width="60%"/><ToolbarSpacer/><Button icon="sap-icon://sort-ascending" press="sortTableControl" type="Emphasized" app:path="ApproverName" app:descending="false"/><ToolbarSpacer/><Button icon="sap-icon://sort-descending" press="sortTableControl" type="Emphasized" app:path="ApproverName" app:descending="true"/></Toolbar><Toolbar><Label text="{i18n>workflow}" width="60%"/><ToolbarSpacer/><Button icon="sap-icon://sort-ascending" press="sortTableControl" type="Emphasized" app:path="Description" app:descending="false"/><ToolbarSpacer/><Button icon="sap-icon://sort-descending" press="sortTableControl" type="Emphasized" app:path="Description" app:descending="true"/></Toolbar><Toolbar><Label text="{i18n>approvalDate}" width="60%"/><ToolbarSpacer/><Button icon="sap-icon://sort-ascending" press="sortTableControl" type="Emphasized" app:path="ApprovalDate" app:descending="false"/><ToolbarSpacer/><Button icon="sap-icon://sort-descending" press="sortTableControl" type="Emphasized" app:path="ApprovalDate" app:descending="true"/></Toolbar></VBox></content></Popover></core:FragmentDefinition>'
}});
